# Dashboard Management Use Case Diagrams

## Overview Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        DASHBOARD MANAGEMENT SYSTEM                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌───────┐                                          ┌───────┐             │
│   │ User  │                                          │ Admin │             │
│   └───┬───┘                                          └───┬───┘             │
│       │                                                  │                 │
│  ┌────┴──────────────────────────────────────────────────┴────┐            │
│  │                                                            │            │
│  ▼                                                            ▼            │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                    DASHBOARD MANAGEMENT                                │ │
│ │                                                                        │ │
│ │  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐       │ │
│ │  │UC1: Create │  │UC2: View   │  │UC3: Update │  │UC4: Delete │       │ │
│ │  │ Dashboard  │  │Dashboards  │  │ Dashboard  │  │ Dashboard  │       │ │
│ │  └────────────┘  └────────────┘  └────────────┘  └────────────┘       │ │
│ │                                                                        │ │
│ │  ┌────────────┐  ┌────────────┐                                       │ │
│ │  │UC5: Set    │  │UC6: Clear  │                                       │ │
│ │  │  Default   │  │  Default   │                                       │ │
│ │  └────────────┘  └────────────┘                                       │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                    TILE MANAGEMENT                                     │ │
│ │                                                                        │ │
│ │  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐       │ │
│ │  │UC7: Add    │  │UC8: Update │  │UC9: Update │  │UC10:Remove │       │ │
│ │  │   Tile     │  │ Position   │  │   Size     │  │   Tile     │       │ │
│ │  └────────────┘  └────────────┘  └────────────┘  └────────────┘       │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
│ ┌────────────────────────────────────────────────────────────────────────┐ │
│ │                    TEMPLATE & STATS MANAGEMENT                         │ │
│ │                                                                        │ │
│ │  ┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐       │ │
│ │  │UC11:Create │  │UC12: View  │  │UC13: View  │  │UC14:Refresh│       │ │
│ │  │   Tile     │  │   Tiles    │  │   Stats    │  │   Stats    │       │ │
│ │  │ Template   │  │  Catalog   │  │            │  │            │       │ │
│ │  └────────────┘  └────────────┘  └────────────┘  └────────────┘       │ │
│ └────────────────────────────────────────────────────────────────────────┘ │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## UC7-UC10: Tile Management Flow

```
┌────────────────────────────────────────────────────────────────────────────┐
│                         TILE MANAGEMENT FLOW                                │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  UC7: Add Tile to Dashboard                                                │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                                                                   │     │
│  │  ┌──────┐    ┌────────────┐    ┌────────────┐    ┌────────────┐ │     │
│  │  │ User │───▶│  Select    │───▶│  Choose    │───▶│ Set Grid   │ │     │
│  │  └──────┘    │ Dashboard  │    │   Tile     │    │ Position   │ │     │
│  │              └────────────┘    │ from Catalog    │ & Size     │ │     │
│  │                                └────────────┘    └──────┬─────┘ │     │
│  │                                                         │       │     │
│  │                                                         ▼       │     │
│  │                                              ┌────────────────┐ │     │
│  │                                              │ Dashboard.Add  │ │     │
│  │                                              │ Tile(...)      │ │     │
│  │                                              └────────────────┘ │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  UC8: Update Tile Position (Drag & Drop)                                  │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                                                                   │     │
│  │   Before:                          After:                        │     │
│  │   ┌─────────────────────┐          ┌─────────────────────┐      │     │
│  │   │ ┌─────┐             │          │             ┌─────┐ │      │     │
│  │   │ │Tile │             │   ─────▶ │             │Tile │ │      │     │
│  │   │ │(0,0)│             │    Drag  │             │(0,4)│ │      │     │
│  │   │ └─────┘             │          │             └─────┘ │      │     │
│  │   └─────────────────────┘          └─────────────────────┘      │     │
│  │                                                                   │     │
│  │   UpdateTilePosition(dashboardTileId, top: 0, left: 4)           │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  UC9: Update Tile Size (Resize)                                           │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                                                                   │     │
│  │   Before:                          After:                        │     │
│  │   ┌─────────────────────┐          ┌─────────────────────┐      │     │
│  │   │ ┌─────┐             │          │ ┌───────────────┐   │      │     │
│  │   │ │Tile │             │   ─────▶ │ │     Tile      │   │      │     │
│  │   │ │2x1  │             │  Resize  │ │     4x2       │   │      │     │
│  │   │ └─────┘             │          │ │               │   │      │     │
│  │   └─────────────────────┘          │ └───────────────┘   │      │     │
│  │                                    └─────────────────────┘      │     │
│  │                                                                   │     │
│  │   UpdateTileSize(dashboardTileId, width: 4, height: 2)           │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  UC10: Remove Tile                                                        │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                                                                   │     │
│  │  ┌──────┐    ┌────────────┐    ┌────────────┐    ┌────────────┐ │     │
│  │  │ User │───▶│  Select    │───▶│  Confirm   │───▶│  Remove    │ │     │
│  │  └──────┘    │   Tile     │    │  Removal   │    │ from Grid  │ │     │
│  │              └────────────┘    └────────────┘    └────────────┘ │     │
│  │                                                                   │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## Dashboard Grid Layout System

```
┌────────────────────────────────────────────────────────────────────────────┐
│                       DASHBOARD GRID LAYOUT SYSTEM                          │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  Grid Configuration:                                                       │
│  - Columns: 12 (responsive)                                                │
│  - Row Height: 100px (configurable)                                        │
│  - Gap: 10px                                                               │
│                                                                            │
│  ┌────────────────────────────────────────────────────────────────────┐   │
│  │     0   1   2   3   4   5   6   7   8   9  10  11                  │   │
│  │   ┌───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┬───┐               │   │
│  │ 0 │ Weight    │ Streak│ Progress Chart         │   │               │   │
│  │   │ (0,0)     │ (0,2) │ (0,4)                  │   │               │   │
│  │   │ w:2, h:1  │ w:2,h:1 w:6, h:2              │   │               │   │
│  │   ├───────────┼───────┼────────────────────────┤   │               │   │
│  │ 1 │           │       │                        │   │               │   │
│  │   │           │       │                        │   │               │   │
│  │   ├───────────┴───────┼────────────────────────┤   │               │   │
│  │ 2 │ Recent Exercises  │ Calendar              │   │               │   │
│  │   │ (2,0)             │ (2,6)                 │   │               │   │
│  │   │ w:6, h:2          │ w:6, h:3              │   │               │   │
│  │   │                   │                       │   │               │   │
│  │ 3 │                   │                       │   │               │   │
│  │   │                   │                       │   │               │   │
│  │   ├───────────────────┼───────────────────────┤   │               │   │
│  │ 4 │                   │                       │   │               │   │
│  │   └───────────────────┴───────────────────────┘   │               │   │
│  │                                                    │               │   │
│  └────────────────────────────────────────────────────────────────────┘   │
│                                                                            │
│  Tile Properties:                                                          │
│  ┌─────────────────────────────────────────────────────────────────┐      │
│  │ {                                                                │      │
│  │   "dashboardTileId": 1,                                          │      │
│  │   "tileId": 5,           // Template reference                   │      │
│  │   "top": 0,              // Grid row position                    │      │
│  │   "left": 0,             // Grid column position                 │      │
│  │   "width": 2,            // Number of columns                    │      │
│  │   "height": 1,           // Number of rows                       │      │
│  │   "configuration": {...} // Widget-specific config               │      │
│  │ }                                                                │      │
│  └─────────────────────────────────────────────────────────────────┘      │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## Widget Types and Statistics

```
┌────────────────────────────────────────────────────────────────────────────┐
│                         WIDGET TYPES & STATISTICS                           │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                    WEIGHT DISPLAY WIDGET                          │     │
│  │                                                                   │     │
│  │    ┌─────────────────────────────────┐                           │     │
│  │    │  Current Weight                 │                           │     │
│  │    │                                 │                           │     │
│  │    │        74 kg                    │                           │     │
│  │    │        ↓ -2 kg (30 days)        │                           │     │
│  │    │                                 │                           │     │
│  │    └─────────────────────────────────┘                           │     │
│  │                                                                   │     │
│  │    Data Source: Athlete.CurrentWeight, Athlete.WeightHistory     │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                    PROGRESS CHART WIDGET                          │     │
│  │                                                                   │     │
│  │    ┌─────────────────────────────────┐                           │     │
│  │    │  Weekly Progress                │                           │     │
│  │    │                      ___        │                           │     │
│  │    │                    /    \       │                           │     │
│  │    │       ___/\___    /      \      │                           │     │
│  │    │  ____/        \__/        \___  │                           │     │
│  │    │  Mon  Tue  Wed  Thu  Fri  Sat   │                           │     │
│  │    └─────────────────────────────────┘                           │     │
│  │                                                                   │     │
│  │    Config: { chartType: "line", metrics: ["weight"] }            │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                    STREAK WIDGET                                  │     │
│  │                                                                   │     │
│  │    ┌─────────────────────────────────┐                           │     │
│  │    │  🔥 Workout Streak              │                           │     │
│  │    │                                 │                           │     │
│  │    │         12                      │                           │     │
│  │    │        days                     │                           │     │
│  │    │                                 │                           │     │
│  │    └─────────────────────────────────┘                           │     │
│  │                                                                   │     │
│  │    Data Source: DashboardStats.StreakDays                        │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                    CALENDAR WIDGET                                │     │
│  │                                                                   │     │
│  │    ┌─────────────────────────────────┐                           │     │
│  │    │  January 2024                   │                           │     │
│  │    │  Mo Tu We Th Fr Sa Su           │                           │     │
│  │    │   1  2  3  4  5  6  7           │                           │     │
│  │    │   ●  ●  ●  ○  ●  ●  ○           │                           │     │
│  │    │   8  9 10 11 12 13 14           │                           │     │
│  │    │   ●  ●  ●  ○  ●  ○  ○           │                           │     │
│  │    └─────────────────────────────────┘                           │     │
│  │                                                                   │     │
│  │    ● = Workout Completed  ○ = Rest Day                           │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                    RECENT EXERCISES WIDGET                        │     │
│  │                                                                   │     │
│  │    ┌─────────────────────────────────┐                           │     │
│  │    │  Recent Exercises               │                           │     │
│  │    │                                 │                           │     │
│  │    │  • Bench Press     60kg x 8     │                           │     │
│  │    │  • Squat           80kg x 6     │                           │     │
│  │    │  • Deadlift       100kg x 5     │                           │     │
│  │    │  • Overhead Press  40kg x 10    │                           │     │
│  │    │                                 │                           │     │
│  │    └─────────────────────────────────┘                           │     │
│  │                                                                   │     │
│  │    Data Source: Athlete.CompletedExercises (last N)              │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## Dashboard Statistics Flow

```
┌────────────────────────────────────────────────────────────────────────────┐
│                      UC13 & UC14: STATISTICS FLOW                           │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  UC13: View Dashboard Stats                                                │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                                                                   │     │
│  │  ┌──────┐    ┌────────────────────┐    ┌────────────────────┐   │     │
│  │  │ User │───▶│ GetDashboardStats  │───▶│   Return Stats     │   │     │
│  │  └──────┘    │      Query         │    │                    │   │     │
│  │              └────────────────────┘    │  - currentWeight   │   │     │
│  │                                        │  - weightChange    │   │     │
│  │                                        │  - totalWorkouts   │   │     │
│  │                                        │  - streakDays      │   │     │
│  │                                        │  - personalRecords │   │     │
│  │                                        └────────────────────┘   │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
│  UC14: Refresh Dashboard Stats (Admin)                                    │
│  ┌──────────────────────────────────────────────────────────────────┐     │
│  │                                                                   │     │
│  │  ┌───────┐   ┌────────────────────┐                              │     │
│  │  │ Admin │──▶│ UpdateDashboard    │                              │     │
│  │  └───────┘   │ StatsCommand       │                              │     │
│  │              └──────────┬─────────┘                              │     │
│  │                         │                                        │     │
│  │           ┌─────────────┼─────────────┐                          │     │
│  │           ▼             ▼             ▼                          │     │
│  │    ┌────────────┐ ┌────────────┐ ┌────────────┐                 │     │
│  │    │ Recalc     │ │ Recalc     │ │ Recalc     │                 │     │
│  │    │ Weight     │ │ Workout    │ │ Streak     │                 │     │
│  │    │ Trends     │ │ Totals     │ │ Data       │                 │     │
│  │    └────────────┘ └────────────┘ └────────────┘                 │     │
│  │           │             │             │                          │     │
│  │           └─────────────┼─────────────┘                          │     │
│  │                         ▼                                        │     │
│  │              ┌────────────────────┐                              │     │
│  │              │   Update Cache     │                              │     │
│  │              │   Return Success   │                              │     │
│  │              └────────────────────┘                              │     │
│  └──────────────────────────────────────────────────────────────────┘     │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## Dashboard Entity Model

```
┌────────────────────────────────────────────────────────────────────────────┐
│                       DASHBOARD ENTITY MODEL                                │
├────────────────────────────────────────────────────────────────────────────┤
│                                                                            │
│  ┌────────────────────────────────────┐                                    │
│  │           Dashboard                │                                    │
│  ├────────────────────────────────────┤                                    │
│  │ + DashboardId: int                 │                                    │
│  │ + Name: string                     │                                    │
│  │ + Description: string?             │                                    │
│  │ + IsDefault: bool                  │                                    │
│  │ + TenantId: int                    │                                    │
│  │ + [Audit fields]                   │                                    │
│  ├────────────────────────────────────┤                                    │
│  │ + Create(): Dashboard              │                                    │
│  │ + AddTile(...)                     │                                    │
│  │ + UpdateTilePosition(...)          │                                    │
│  │ + UpdateTileSize(...)              │                                    │
│  │ + SetAsDefault()                   │                                    │
│  │ + ClearDefault()                   │                                    │
│  │ + HideFromCatalog(tileId)          │                                    │
│  └──────────────┬─────────────────────┘                                    │
│                 │                                                          │
│                 │ 1:*                                                      │
│                 ▼                                                          │
│  ┌────────────────────────────────────┐      ┌──────────────────────────┐ │
│  │        DashboardTile               │      │          Tile            │ │
│  ├────────────────────────────────────┤      ├──────────────────────────┤ │
│  │ + DashboardTileId: int             │      │ + TileId: int            │ │
│  │ + DashboardId: int                 │──────│ + Name: string           │ │
│  │ + TileId: int                      │  *:1 │ + WidgetType: string     │ │
│  │ + Top: int                         │      │ + DefaultWidth: int      │ │
│  │ + Left: int                        │      │ + DefaultHeight: int     │ │
│  │ + Width: int                       │      │ + Configuration: json    │ │
│  │ + Height: int                      │      │ + HiddenFromCatalog: bool│ │
│  │ + Configuration: json?             │      └──────────────────────────┘ │
│  └────────────────────────────────────┘                                    │
│                                                                            │
│  ┌────────────────────────────────────┐                                    │
│  │           Widget                   │                                    │
│  ├────────────────────────────────────┤                                    │
│  │ + WidgetId: int                    │                                    │
│  │ + Name: string                     │                                    │
│  │ + Type: string                     │                                    │
│  │ + Component: string                │                                    │
│  │ + Description: string?             │                                    │
│  └────────────────────────────────────┘                                    │
│                                                                            │
└────────────────────────────────────────────────────────────────────────────┘
```

---

## Permissions Matrix

| Use Case | User | Admin |
|----------|:----:|:-----:|
| Create Dashboard | ✓ | ✓ |
| View Own Dashboards | ✓ | ✓ |
| View Dashboard Details | ✓ | ✓ |
| Update Own Dashboard | ✓ | ✓ |
| Delete Own Dashboard | ✓ | ✓ |
| Set Default Dashboard | ✓ | ✓ |
| Clear Default | ✓ | ✓ |
| Add Tile to Dashboard | ✓ | ✓ |
| Update Tile Position | ✓ | ✓ |
| Update Tile Size | ✓ | ✓ |
| Remove Tile | ✓ | ✓ |
| View Tile Catalog | ✓ | ✓ |
| View Dashboard Stats | ✓ | ✓ |
| Create Tile Template | - | ✓ |
| Hide Tile from Catalog | - | ✓ |
| Create Widget | - | ✓ |
| View Widgets | - | ✓ |
| Refresh Stats (Force) | - | ✓ |
